{"ast":null,"code":"import React,{useState}from'react';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[mySign,setMySign]=useState('');const[partnerSign,setPartnerSign]=useState('');const[compatibility,setCompatibility]=useState(null);const handleSignChange=(event,setter)=>{setter(event.target.value);};const calculateCompatibility=async()=>{// Google Sheets APIを使用してGoogle Sheetsからデータを取得します\ntry{const apiKey=process.env.REACT_APP_GOOGLE_SHEETS_API_KEY_BASE64;const apiKeyDecoded=atob(apiKey);// Base64デコード\nconst response=await fetch(\"https://sheets.googleapis.com/v4/spreadsheets/{1_ny_jpo6gXKmSTMTaQT1o6RdEKR7UzrLA82aFc_1HV8}/values/Sheet1!A:C?key=\".concat(apiKeyDecoded));const data=await response.json();const values=data.values;// 自分の星座と相手の星座に対応する行を探します\nconst row=values.find(row=>row[0]===mySign&&row[1]===partnerSign);if(row){setCompatibility(row[2]);// C列の値が相性のパーセンテージです\n}else{setCompatibility(null);// 該当する行が見つからない場合はnullをセットします\n}}catch(error){console.error('Error fetching data:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u661F\\u5EA7\\u306E\\u76F8\\u6027\\u30C1\\u30A7\\u30C3\\u30AB\\u30FC\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u3042\\u306A\\u305F\\u306E\\u661F\\u5EA7\\uFF1A\"}),/*#__PURE__*/_jsx(\"select\",{value:mySign,onChange:e=>handleSignChange(e,setMySign),children:/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u9078\\u629E\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u76F8\\u624B\\u306E\\u661F\\u5EA7\\uFF1A\"}),/*#__PURE__*/_jsx(\"select\",{value:partnerSign,onChange:e=>handleSignChange(e,setPartnerSign),children:/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u9078\\u629E\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:calculateCompatibility,children:\"\\u76F8\\u6027\\u3092\\u30C1\\u30A7\\u30C3\\u30AF\\u3059\\u308B\"}),compatibility!==null&&/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u3042\\u306A\\u305F\\u3068\\u76F8\\u624B\\u306E\\u76F8\\u6027\\u306F \",compatibility,\"% \\u3067\\u3059\\uFF01\"]})]});}export default App;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","App","mySign","setMySign","partnerSign","setPartnerSign","compatibility","setCompatibility","handleSignChange","event","setter","target","value","calculateCompatibility","apiKey","process","env","REACT_APP_GOOGLE_SHEETS_API_KEY_BASE64","apiKeyDecoded","atob","response","fetch","concat","data","json","values","row","find","error","console","className","children","onChange","e","onClick"],"sources":["/Users/will/zScope2/zScope/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport './App.css';\n\nfunction App() {\n  const [mySign, setMySign] = useState('');\n  const [partnerSign, setPartnerSign] = useState('');\n  const [compatibility, setCompatibility] = useState(null);\n\n  const handleSignChange = (event, setter) => {\n    setter(event.target.value);\n  };\n\n  const calculateCompatibility = async () => {\n    // Google Sheets APIを使用してGoogle Sheetsからデータを取得します\n    try {\n      const apiKey = process.env.REACT_APP_GOOGLE_SHEETS_API_KEY_BASE64;\n      const apiKeyDecoded = atob(apiKey); // Base64デコード\n\n      const response = await fetch(`https://sheets.googleapis.com/v4/spreadsheets/{1_ny_jpo6gXKmSTMTaQT1o6RdEKR7UzrLA82aFc_1HV8}/values/Sheet1!A:C?key=${apiKeyDecoded}`);\n      const data = await response.json();\n      const values = data.values;\n\n      // 自分の星座と相手の星座に対応する行を探します\n      const row = values.find(row => row[0] === mySign && row[1] === partnerSign);\n\n      if (row) {\n        setCompatibility(row[2]); // C列の値が相性のパーセンテージです\n      } else {\n        setCompatibility(null); // 該当する行が見つからない場合はnullをセットします\n      }\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>星座の相性チェッカー</h1>\n      <div>\n        <label>あなたの星座：</label>\n        <select value={mySign} onChange={(e) => handleSignChange(e, setMySign)}>\n          <option value=\"\">選択してください</option>\n          {/* ここにあなたの星座の選択肢を追加します */}\n        </select>\n      </div>\n      <div>\n        <label>相手の星座：</label>\n        <select value={partnerSign} onChange={(e) => handleSignChange(e, setPartnerSign)}>\n          <option value=\"\">選択してください</option>\n          {/* ここに相手の星座の選択肢を追加します */}\n        </select>\n      </div>\n      <button onClick={calculateCompatibility}>相性をチェックする</button>\n      {compatibility !== null && (\n        <p>あなたと相手の相性は {compatibility}% です！</p>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}